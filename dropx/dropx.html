<!DOCTYPE html>
<html>
<head>
<style type="text/css">
canvas{
	border-right:#666 1px solid;
	border-bottom:#666 1px solid;
	border-left:#666 1px solid;
	align : center;
}

textarea {
	border: 1px solid black;
}

</style>

<script type="text/javascript" src="config.js" ></script> 
<script type="text/javascript" src="../lib/prototype.js" ></script>
<script type="text/javascript" src="../lib/kibo.js" ></script> 
<script type="text/javascript" src="../lib/fabric.js" ></script> 
<script type="text/javascript" src="../lib/fonts/CA_BND_Web_Bold_700.font.js" ></script> 
<script type="text/javascript" src="util.js" ></script> 
<script type="text/javascript" src="board.js" ></script>
<script type="text/javascript" src="disc.js" ></script>
<script type="text/javascript" src="game.js" ></script>
<script type="text/javascript" src="events.js" ></script>
<script type="text/javascript">


var game = null;
var keyboard = null;
var GAME_SIZE = Math.min(7,CONFIG.GAME_SIZE_UPPER_BOUND);
function setupKeyboard()
{
	keyboard = new Kibo();
	keyboard.up('down',function(evt) { game.dropInputDisc(); } );
	keyboard.up('right',function(evt) { game.inputDiscRight(); } );
	keyboard.up('left',function(evt) { game.inputDiscLeft(); } );
}

function setup()
{
	if (CONFIG.DEV_MODE)
		$('devDiv').style.display = 'block';
		
	setupKeyboard();
	game = new DropXGame(GAME_SIZE,$('cnvsMain'),updateNewLineCountdown);
	game.init();
	
	
}

function clearDebugConsole()
{
	$('txtDbg').value = '';
}

function updateNewLineCountdown(newValue)
{
	$('newLineCountdown').textContent = newValue;
}

</script>
</head>

<body onload="setup();">

<div width="100%" align="center">
<canvas id="cnvsMain" width="650" height="500">
	
</canvas>
</div>
<div align="center">
	Discs to new line: <span id="newLineCountdown"></span>
</div>

<div id="devDiv" style="display : none">
<textarea id="txtDbg" cols="80" rows="10" readonly="readonly" align="center"></textarea>
<br/>
<input type="button" onclick="clearDebugConsole()" value="Clear"></input>
</div>
</body>

</html>